<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ì˜ ì´ìƒí˜• ì°¾ê¸° í…ŒìŠ¤íŠ¸ v2</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Inter í°íŠ¸ CND (Tailwind ê¸°ë³¸ í°íŠ¸ì™€ ìœ ì‚¬í•˜ê²Œ) */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
        }
        /* ê°„ë‹¨í•œ í™”ë©´ ì „í™˜ íš¨ê³¼ */
        .screen {
            transition: opacity 0.3s ease-in-out;
        }
        /* ì»¤ìŠ¤í…€ ë¼ë””ì˜¤ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        input[type="radio"]:checked + label {
            background-color: #3B82F6; /* bg-blue-600 */
            color: white;
            border-color: #3B82F6; /* border-blue-600 */
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4 py-8">

    <div id="app" class="max-w-lg w-full bg-white rounded-2xl shadow-xl overflow-hidden">
        
        <!-- 1. ì‹œì‘ í™”ë©´ -->
        <div id="start-screen" class="screen p-8 md:p-12 text-center">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">ë‚˜ì˜ ì´ìƒí˜• ì°¾ê¸° (v2)</h1>
            <p class="text-lg text-gray-600 mb-8">
                40ê°œì˜ ì§ˆë¬¸ìœ¼ë¡œ<br>ë‹¹ì‹ ì˜ ì§„ì§œ ì´ìƒí˜• ì½”ë“œë¥¼ ë¶„ì„í•©ë‹ˆë‹¤.
            </p>
            <div class="w-48 h-48 bg-blue-100 rounded-full mx-auto mb-8 flex items-center justify-center">
                <span class="text-5xl">ğŸ§¬</span>
            </div>
            <button id="start-button" class="w-full bg-blue-600 text-white text-lg font-bold py-4 rounded-lg shadow-lg hover:bg-blue-700 transition-colors duration-300 transform hover:scale-105">
                í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°
            </button>
        </div>

        <!-- 2. ì§ˆë¬¸ í™”ë©´ -->
        <div id="quiz-screen" class="screen p-8 md:p-12 hidden">
            <div class="mb-6">
                <!-- ì§„í–‰ë„ -->
                <p id="progress-text" class="text-center text-blue-600 font-semibold text-sm">Q 1/40</p>
                <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                    <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-300" style="width: 2.5%"></div>
                </div>
            </div>
            <!-- ì§ˆë¬¸ -->
            <h2 id="question-title" class="text-xl md:text-2xl font-bold text-center mb-8 h-24 flex items-center justify-center">
                <!-- JSë¡œ ì§ˆë¬¸ ë‚´ìš©ì´ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
            </h2>
            <!-- 5ì  ì²™ë„ ì„ íƒì§€ (ë¼ë””ì˜¤ ë²„íŠ¼) -->
            <fieldset id="choices-container" class="flex flex-col gap-3 mb-8">
                <!-- JSë¡œ ì„ íƒì§€ê°€ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
            </fieldset>
            <button id="next-button" class="w-full bg-blue-600 text-white text-lg font-bold py-3 rounded-lg shadow-md hover:bg-blue-700 transition-colors duration-300 disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
                ë‹¤ìŒ
            </button>
        </div>

        <!-- 3. ë¡œë”© í™”ë©´ -->
        <div id="loading-screen" class="screen p-8 md:p-12 text-center hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">ê²°ê³¼ ë¶„ì„ ì¤‘...</h2>
            <div class="animate-spin rounded-full h-20 w-20 border-t-4 border-b-4 border-blue-600 mx-auto mb-6"></div>
            <p class="text-gray-600">40ê°œì˜ ë‹µë³€ì„ ë°”íƒ•ìœ¼ë¡œ<br>ê°€ì¤‘ì¹˜ë¥¼ ê³„ì‚°í•˜ì—¬ ì½”ë“œë¥¼ ì¡°í•©í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
        </div>

        <!-- 4. ê²°ê³¼ í™”ë©´ -->
        <div id="result-screen" class="screen p-8 md:p-12 text-center hidden">
            <p class="text-gray-600 mb-2">ë‹¹ì‹ ì˜ ì´ìƒí˜•ì€...</p>
            <h2 id="result-type-name" class="text-3xl md:text-4xl font-bold text-blue-700 mb-4">
                <!-- JSë¡œ ê²°ê³¼ ìœ í˜• ì´ë¦„ì´ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
            </h2>
            <p id="result-type-code" class="text-lg font-semibold text-gray-500 mb-6">
                <!-- JSë¡œ ê²°ê³¼ ì½”ë“œê°€ ì±„ì›Œì§‘ë‹ˆë‹¤ (ì˜ˆ: LSHM) -->
            </p>
            
            <div id="result-image" class="w-48 h-48 bg-gray-200 rounded-full mx-auto mb-6 flex items-center justify-center text-gray-500 overflow-hidden">
                <img id="result-img-tag" src="" alt="ê²°ê³¼ ì´ë¯¸ì§€" class="w-full h-full object-cover">
            </div>

            <p id="result-summary" class="text-xl font-medium text-gray-800 mb-6">
                <!-- JSë¡œ í•œ ì¤„ ìš”ì•½ì´ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
            </p>
            
            <!-- ê²°ê³¼ ìƒì„¸ ë¹„ì¤‘ -->
            <div id="result-details" class="text-left bg-gray-50 p-4 rounded-lg mb-8">
                <!-- JSë¡œ ë¹„ì¤‘ì´ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
            </div>

            <p id="result-description" class="text-gray-600 mb-8">
                <!-- JSë¡œ ìƒì„¸ ì„¤ëª…ì´ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
            </p>

            <div class="flex flex-col gap-4">
                <button id="share-button" class="w-full bg-yellow-400 text-gray-800 font-bold py-3 px-4 rounded-lg shadow-md hover:bg-yellow-500 transition-colors duration-300">
                    ê²°ê³¼ ê³µìœ í•˜ê¸° (ê¸°ëŠ¥ êµ¬í˜„ X)
                </button>
                <button id="restart-button" class="w-full bg-gray-200 text-gray-700 font-bold py-3 px-4 rounded-lg hover:bg-gray-300 transition-colors duration-300">
                    í…ŒìŠ¤íŠ¸ ë‹¤ì‹œí•˜ê¸°
                </button>
            </div>
        </div>

    </div>

    <script>
        // --- DOM ìš”ì†Œ ---
        const app = document.getElementById('app');
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const loadingScreen = document.getElementById('loading-screen');
        const resultScreen = document.getElementById('result-screen');

        const startButton = document.getElementById('start-button');
        const restartButton = document.getElementById('restart-button');
        const nextButton = document.getElementById('next-button');
        
        const progressText = document.getElementById('progress-text');
        const progressBar = document.getElementById('progress-bar');
        const questionTitle = document.getElementById('question-title');
        const choicesContainer = document.getElementById('choices-container');
        
        const resultTypeName = document.getElementById('result-type-name');
        const resultTypeCode = document.getElementById('result-type-code');
        const resultImgTag = document.getElementById('result-img-tag');
        const resultSummary = document.getElementById('result-summary');
        const resultDetails = document.getElementById('result-details');
        const resultDescription = document.getElementById('result-description');

        // --- ë°ì´í„° ---

        // 1. 40ê°œ ì§ˆë¬¸
        const allQuestions = [
            // Axis 1: D (Heavier) vs L (Slim)
            { question: "ë“¬ì§í•œ ì‚¬ëŒì—ê²Œ ì•ˆê¸°ëŠ” ê²ƒì„ ìƒìƒí•˜ë©´ ì„¤ë Œë‹¤.", bias: "D", opposite: "L" },
            { question: "ê»´ì•ˆì•˜ì„ ë•Œ í’ˆì´ ë„‰ë„‰í•œ ì‚¬ëŒì´ ì¢‹ë‹¤.", bias: "D", opposite: "L" },
            { question: "ìŠ¬ë¦¼í•œ ì˜·ì„ ì…ì—ˆì„ ë•Œ í•ì´ ë”± ë–¨ì–´ì§€ëŠ” ì‚¬ëŒì´ ë§¤ë ¥ì ì´ë‹¤.", bias: "L", opposite: "D" },
            { question: "ë¼ˆëŒ€ê°€ ê°€ëŠ˜ê³  ê¸´ ì†ê°€ë½ì„ ë³´ë©´ ì„¤ë Œë‹¤.", bias: "L", opposite: "D" },
            { question: "ìƒëŒ€ë°©ì´ 'ë©ì¹˜ ì¢‹ë‹¤'ëŠ” ë§ì„ ë“¤ìœ¼ë©´ ì¹­ì°¬ì²˜ëŸ¼ ë“¤ë¦°ë‹¤.", bias: "D", opposite: "L" },
            { question: "ë°”ëŒì´ ë¶ˆë©´ ë‚ ì•„ê°ˆ ê²ƒ ê°™ì´ ì—¬ë¦¬ì—¬ë¦¬í•œ ëª¨ìŠµì— ë³´í˜¸ ë³¸ëŠ¥ì„ ëŠë‚€ë‹¤.", bias: "L", opposite: "D" },
            { question: "ì¶”ìš´ ê²¨ìš¸, ë„‰ë„‰í•œ ì²´í˜•ì˜ ì‚¬ëŒ ì˜†ì— ìˆìœ¼ë©´ ë” ë”°ëœ»í•  ê²ƒ ê°™ë‹¤.", bias: "D", opposite: "L" },
            { question: "ëª¨ë¸ì²˜ëŸ¼ ë§ˆë¥¸ ì²´í˜•ì´ ìê¸°ê´€ë¦¬ë¥¼ ì˜í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤.", bias: "L", opposite: "D" },
            { question: "í†µí†µí•œ ë³¼ì‚´ì€ ê·€ì—¬ì›€ì˜ ìƒì§•ì´ë‹¤.", bias: "D", opposite: "L" },
            { question: "ë‚ ì¹´ë¡œìš´ í„±ì„ ì„ ê°€ì§„ ì‚¬ëŒì—ê²Œ ì‹œì„ ì´ ê°„ë‹¤.", bias: "L", opposite: "D" },

            // Axis 2: B (Beard/Natural) vs S (Smooth/Clean)
            { question: "ìì—°ìŠ¤ëŸ½ê²Œ ìë€ ìˆ˜ì—¼ì€ ë‚¨ì„±ë¯¸ì˜ ìƒì§•ì´ë‹¤.", bias: "B", opposite: "S" },
            { question: "í„¸ì´ ì ë‹¹íˆ ìˆëŠ” íŒ”ë‹¤ë¦¬ê°€ ì„¹ì‹œí•˜ë‹¤ê³  ìƒê°í•œë‹¤.", bias: "B", opposite: "S" },
            { question: "ë§¤ì¼ ì•„ì¹¨ ê¹”ë”í•˜ê²Œ ë©´ë„í•œ ëª¨ìŠµì´ ë³´ê¸° ì¢‹ë‹¤.", bias: "S", opposite: "B" },
            { question: "ë¶€ë“œëŸ½ê³  ë§¤ëˆí•œ í”¼ë¶€ë¥¼ ë§Œì§€ëŠ” ê²ƒì„ ì„ í˜¸í•œë‹¤.", bias: "S", opposite: "B" },
            { question: "ìˆ˜ì—¼ì„ ê¸°ë¥´ê¸° ìœ„í•´ ê´€ë¦¬í•˜ëŠ” ëª¨ìŠµì´ ë©‹ì§€ë‹¤.", bias: "B", opposite: "S" },
            { question: "ì™ì‹±ì´ë‚˜ ì œëª¨ë¥¼ í†µí•´ ê¹”ë”í•¨ì„ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.", bias: "S", opposite: "B" },
            { question: "ì•½ê°„ì˜ í„±ìˆ˜ì—¼ì€ ê°œì„±ì„ í‘œí˜„í•˜ëŠ” ì¢‹ì€ ë°©ë²•ì´ë‹¤.", bias: "B", opposite: "S" },
            { question: "ì–¼êµ´ì— ìˆ˜ì—¼ì´ ê±°ì¹ ê²Œ ë‹¿ëŠ” ëŠë‚Œì´ ë³„ë¡œì¼ ê²ƒ ê°™ë‹¤.", bias: "S", opposite: "B" },
            { question: "êµ¬ë ˆë‚˜ë£»ì´ë‚˜ ì½§ìˆ˜ì—¼ì´ ì˜ ì–´ìš¸ë¦¬ëŠ” ì‚¬ëŒì´ ì¢‹ë‹¤.", bias: "B", opposite: "S" },
            { question: "ë‚´ ì´ìƒí˜•ì„ ë¬˜ì‚¬í•  ë•Œ 'ê¹”ë”í•˜ë‹¤'ëŠ” ì¸ìƒì´ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.", bias: "S", opposite: "B" },

            // Axis 3: C (Short Hair) vs H (Long Hair)
            { question: "ì§§ì€ ë¨¸ë¦¬ëŠ” ë‹¨ì •í•˜ê³  í”„ë¡œí˜ì…”ë„í•´ ë³´ì¸ë‹¤.", bias: "C", opposite: "H" },
            { question: "ë¨¸ë¦¬ë¥¼ ê°ê³  ë§ë¦¬ëŠ” ë° ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ì§€ ì•ŠëŠ” ì‚¬ëŒì´ ì¢‹ë‹¤.", bias: "C", opposite: "H" },
            { question: "ë°”ëŒì— í©ë‚ ë¦¬ëŠ” ê¸´ ë¨¸ë¦¬ì¹´ë½ì„ ë³´ë©´ ì„¤ë Œë‹¤.", bias: "H", opposite: "C" },
            { question: "ë¨¸ë¦¬ë¥¼ ë¬¶ê±°ë‚˜ í‘¸ëŠ” ë“± ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ë§ì„ í•  ìˆ˜ ìˆëŠ” ê¸´ ë¨¸ë¦¬ê°€ ì¢‹ë‹¤.", bias: "H", opposite: "C" },
            { question: "ìŠ¤í¬í‹°í•œ ìˆì»· ìŠ¤íƒ€ì¼ì´ í™œê¸°ì°¨ ë³´ì—¬ ì¢‹ë‹¤.", bias: "C", opposite: "H" },
            { question: "ì‹ ë¹„ë¡­ê³  ì˜ˆìˆ ê°€ì ì¸ ë¶„ìœ„ê¸°ëŠ” ê¸´ ë¨¸ë¦¬ì—ì„œ ë‚˜ì˜¨ë‹¤ê³  ìƒê°í•œë‹¤.", bias: "H", opposite: "C" },
            { question: "ê·€ê°€ ë“œëŸ¬ë‚˜ëŠ” ì§§ì€ í—¤ì–´ìŠ¤íƒ€ì¼ì´ ì‹œì›í•´ ë³´ì´ê³  ë§¤ë ¥ì ì´ë‹¤.", bias: "C", opposite: "H" },
            { question: "ìƒëŒ€ë°©ì˜ ë¨¸ë¦¬ì¹´ë½ì„ ì“°ë‹¤ë“¬ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤ë©´ ê¸´ ë¨¸ë¦¬ê°€ ë” ì¢‹ë‹¤.", bias: "H", opposite: "C" },
            { question: "ê²©ì‹ ìˆëŠ” ìë¦¬ì— ê°ˆ ë•Œ, ì§§ì€ ë¨¸ë¦¬ê°€ ë” ì„¸ë ¨ë¼ ë³´ì¸ë‹¤.", bias: "C", opposite: "H" },
            { question: "ì°°ë‘ê±°ë¦¬ëŠ” ë¨¸ë¦¿ê²°ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ë…¸ë ¥í•˜ëŠ” ëª¨ìŠµì´ ë³´ê¸° ì¢‹ë‹¤.", bias: "H", opposite: "C" },

            // Axis 4: M (Muscle) vs F (Soft/Fat)
            { question: "ë‹¨ë‹¨í•œ ê·¼ìœ¡ì§ˆì˜ ëª¸ë§¤ë¥¼ ë³´ë©´ ê°íƒ„ì´ ë‚˜ì˜¨ë‹¤.", bias: "M", opposite: "F" },
            { question: "í•¨ê»˜ í—¬ìŠ¤ì¥ì—ì„œ ìš´ë™í•˜ëŠ” ë°ì´íŠ¸ë¥¼ ì¦ê¸¸ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.", bias: "M", opposite: "F" },
            { question: "ê»´ì•ˆì•˜ì„ ë•Œ ë”±ë”±í•œ ê·¼ìœ¡ë³´ë‹¤ ë§ë‘í•˜ê³  ë¶€ë“œëŸ¬ìš´ ëŠë‚Œì´ ì¢‹ë‹¤.", bias: "F", opposite: "M" },
            { question: "ë§›ìˆëŠ” ìŒì‹ì„ í–‰ë³µí•˜ê²Œ ë¨¹ëŠ” 'ë¨¹ë°©' ìŠ¤íƒ€ì¼ì˜ ì‚¬ëŒì´ ì¢‹ë‹¤.", bias: "F", opposite: "M" },
            { question: "ë¬´ê±°ìš´ ì§ì„ ë²ˆì© ë“œëŠ” ê·¼ìœ¡ì§ˆì˜ ëª¨ìŠµì´ ë©‹ì§€ë‹¤.", bias: "M", opposite: "F" },
            { question: "ì—„ê²©í•œ ì‹ìŠ¤íŒ©ë³´ë‹¤ëŠ” í¸ì•ˆí•œ ë±ƒì‚´ì„ ê°€ì§„ ì‚¬ëŒì´ ì¸ê°„ì ì´ê³  ì¢‹ë‹¤.", bias: "F", opposite: "M" },
            { question: "ìê¸°ê´€ë¦¬ë¥¼ ìœ„í•´ ì‹ë‹¨ê³¼ ìš´ë™ì„ ì—„ê²©í•˜ê²Œ í•˜ëŠ” ëª¨ìŠµì´ ì¡´ê²½ìŠ¤ëŸ½ë‹¤.", bias: "M", opposite: "F" },
            { question: "ê»´ì•ˆì„ ë•Œ, ë‹¨ë‹¨í•œ ê·¼ìœ¡ë³´ë‹¤ ë¶€ë“œëŸ¬ìš´ ì‚´ì´ ë” í¬ê·¼í•  ê²ƒ ê°™ë‹¤.", bias: "F", opposite: "M" },
            { question: "ì…”ì¸  ë°–ìœ¼ë¡œ ë“œëŸ¬ë‚˜ëŠ” íŒ” ê·¼ìœ¡ì— ì‹œì„ ì´ ê°„ë‹¤.", bias: "M", opposite: "F" },
            { question: "í†µí†µí•˜ê³  ë§ë‘í•œ ë±ƒì‚´ì„ ë§Œì§€ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.", bias: "F", opposite: "M" }
        ];

        // 5ì  ì²™ë„ ì„ íƒì§€
        const likertChoices = [
            { text: "ë§¤ìš° ê·¸ë ‡ë‹¤", score: 2 },
            { text: "ê·¸ë ‡ë‹¤", score: 1 },
            { text: "ë³´í†µ", score: 0 },
            { text: "ì•„ë‹ˆë‹¤", score: -1 },
            { text: "ë§¤ìš° ì•„ë‹ˆë‹¤", score: -2 }
        ];
        
        // 2. ê²°ê³¼ (16ê°€ì§€ ìœ í˜•)
        const results = {
            "DBCM": { name: "ë“¬ì§í•œ ìº¡í‹´í˜•", summary: "ë¦¬ë”ì‹­ê³¼ ì‹ ë¢°ê°ì´ ë„˜ì¹˜ëŠ” ë“ ë“ í•œ ìŠ¤íƒ€ì¼", description: "ì²´ê²©ê³¼ ê·¼ìœ¡, ê·¸ë¦¬ê³  ìˆ˜ì—¼ê¹Œì§€. ë‹¹ì‹ ì€ ë“¬ì§í•¨ì˜ ëª¨ë“  ìš”ì†Œë¥¼ ê°–ì¶˜ ë¦¬ë”í˜•ì—ê²Œ ëŒë¦½ë‹ˆë‹¤. ìº¡í‹´ ì•„ë©”ë¦¬ì¹´ì²˜ëŸ¼ ì‹ ë¢°ë¥¼ ì£¼ëŠ” ë“¬ì§í•¨ì´ ë§¤ë ¥ í¬ì¸íŠ¸ì…ë‹ˆë‹¤.", image: "https://placehold.co/300x300/3B82F6/FFFFFF?text=DBCM" },
            "DBCF": { name: "í‘¸ê·¼í•œ ê³°ëŒì´í˜•", summary: "ë„‰ë„‰í•œ ì›ƒìŒê³¼ ë”°ëœ»í•œ í¬ìš©ë ¥ì„ ì§€ë‹Œ ì´ìƒí˜•", description: "ë‹¹ì‹ ì€ ê²‰ëª¨ìŠµì˜ í™”ë ¤í•¨ë³´ë‹¤ëŠ” ê¸°ëŒˆ ìˆ˜ ìˆëŠ” í‘¸ê·¼í•¨ê³¼ ë”°ëœ»í•œ ë§ˆìŒì— ë§¤ë ¥ì„ ëŠë‚ë‹ˆë‹¤. í•¨ê»˜ ìˆìœ¼ë©´ ë§ˆìŒì´ í¸ì•ˆí•´ì§€ëŠ”, ê³°ì¸í˜• ê°™ì€ ì‚¬ëŒì…ë‹ˆë‹¤.", image: "https://placehold.co/300x300/F59E0B/FFFFFF?text=DBCF" },
            "DBHM": { name: "ì•¼ì„±ì ì¸ ë°”ì´í‚¹í˜•", summary: "ê±°ì¹œ ë§¤ë ¥ê³¼ ê°•ì¸í•¨ì´ ê³µì¡´í•˜ëŠ” ìŠ¤íƒ€ì¼", description: "ê¸°íšì•ˆì˜ 'ê°•ì²  ë§¤ë ¥í˜•'ê³¼ ìœ ì‚¬í•©ë‹ˆë‹¤. ê¸´ ë¨¸ë¦¬ì™€ ìˆ˜ì—¼, ê·¼ìœ¡ì§ˆì˜ ì¡°í•©ì€ ì›ì´ˆì ì¸ ì•¼ì„±ë¯¸ë¥¼ ëŠë¼ê²Œ í•©ë‹ˆë‹¤. í†µì œë˜ì§€ ì•Šì„ ê²ƒ ê°™ì€ ê±°ì¹œ ë§¤ë ¥ì— ëŒë¦½ë‹ˆë‹¤.", image: "https://placehold.co/300x300/EF4444/FFFFFF?text=DBHM" },
            "DBHF": { name: "ì—¬ìœ ë¡œìš´ ì˜ˆìˆ ê°€í˜•", summary: "ìê¸°ë§Œì˜ ì„¸ê³„ê°€ í™•ê³ í•œ ììœ ë¡œìš´ ì˜í˜¼", description: "ë„‰ë„‰í•œ ì²´í˜•ì— ê¸´ ë¨¸ë¦¬ì™€ ìˆ˜ì—¼ì„ í•œ ë‹¹ì‹ ì˜ ì´ìƒí˜•ì€ ì„¸ìƒì˜ ê¸°ì¤€ì— ì–½ë§¤ì´ì§€ ì•ŠìŠµë‹ˆë‹¤. ìì‹ ë§Œì˜ ì² í•™ì„ ê°€ì§„ ììœ ë¡œìš´ ì˜ˆìˆ ê°€ì  ê°ì„±ì´ ë§¤ë ¥ì…ë‹ˆë‹¤.", image: "https://placehold.co/300x300/A855F7/FFFFFF?text=DBHF" },
            "DSCM": { name: "í˜ìˆ¨ì° í”¼íŠ¸í˜•", summary: "í‰ì†Œì—” ìˆœí•˜ì§€ë§Œ, ì•Œê³  ë³´ë©´ ëŒ€ë‹¨í•œ ê·¼ìœ¡ì˜ ì†Œìœ ì", description: "ê¸°íšì•ˆì˜ 'ê·€ì—¬ìš´ í”¼íŠ¸í˜•'ê³¼ ìœ ì‚¬í•©ë‹ˆë‹¤. ê²‰ë³´ê¸°ì—” ê·¸ì € ë“¬ì§í•˜ê³  ìˆœí•´ ë³´ì´ì§€ë§Œ, ì‚¬ì‹¤ì€ ê¾¸ì¤€í•œ ìš´ë™ìœ¼ë¡œ ë‹¤ì ¸ì§„ ê·¼ìœ¡ì„ ìˆ¨ê¸°ê³  ìˆëŠ” ë°˜ì „ ë§¤ë ¥ì˜ ì†Œìœ ìì…ë‹ˆë‹¤.", image: "https://placehold.co/300x300/10B981/FFFFFF?text=DSCM" },
            "DSCF": { name: "ë”°ëœ»í•œ í¬ê·¼í˜•", summary: "ë“¬ì§í•¨ì´ ë§¤ë ¥ í¬ì¸íŠ¸! ê¸°ëŒˆ ìˆ˜ ìˆëŠ” ì‚¬ëŒ", description: "ê¸°íšì•ˆì˜ 'ë”°ëœ»í•œ í¬ê·¼í˜•'ì…ë‹ˆë‹¤. ê¹”ë”í•œ ì¸ìƒì— ë“¬ì§í•œ ì²´í˜•, ê·¸ë¦¬ê³  í¬ê·¼í•œ ì„±ê²©ê¹Œì§€. ë‹¹ì‹ ì€ í™”ë ¤í•¨ë³´ë‹¤ëŠ” ì•ˆì •ê°ê³¼ ë”°ëœ»í•¨ì„ ì£¼ëŠ” ì‚¬ëŒì—ê²Œ í° ë§¤ë ¥ì„ ëŠë‚ë‹ˆë‹¤.", image: "https://placehold.co/300x300/EC4899/FFFFFF?text=DSCF" },
            "DSHM": { name: "ê·€ì—¬ìš´ í”¼íŠ¸í˜•", summary: "í¬ê·¼í•˜ì§€ë§Œ ë“ ë“ í•œ ì—°ì¸ìƒ", description: "ê¸°íšì•ˆì˜ 'ê·€ì—¬ìš´ í”¼íŠ¸í˜•'ì…ë‹ˆë‹¤. ê¸´ ë¨¸ë¦¬ë¡œ ë¶€ë“œëŸ¬ì›€ì„ ë”í–ˆì§€ë§Œ, ì†ì€ ë“¬ì§í•œ ê·¼ìœ¡ìœ¼ë¡œ ì±„ì›Œì ¸ ìˆìŠµë‹ˆë‹¤. í¬ê·¼í•¨ê³¼ ë“ ë“ í•¨ì„ ë™ì‹œì— ê°–ì¶˜ ë§¤ë ¥ì ì¸ ìœ í˜•ì…ë‹ˆë‹¤.", image: "https://placehold.co/300x300/6366F1/FFFFFF?text=DSHM" },
            "DSHF": { name: "ë§ë‘ì½©ë–¡ ìˆœë‘¥ì´í˜•", summary: "ë³´ê¸°ë§Œ í•´ë„ ê¸°ë¶„ ì¢‹ì•„ì§€ëŠ” ìˆœí•œ ë§¤ë ¥", description: "ê¹”ë”í•œ ì¸ìƒì— í¬ê·¼í•œ ì²´í˜•, ê·¸ë¦¬ê³  ë¶€ë“œëŸ¬ìš´ ì„±ê²©. ë‹¹ì‹ ì€ ë§ˆì¹˜ ë§ë‘í•œ ë–¡ì²˜ëŸ¼ ìˆœí•˜ê³  ë¶€ë“œëŸ¬ìš´ ë§¤ë ¥ì„ ê°€ì§„ ì‚¬ëŒì—ê²Œ ëŒë¦½ë‹ˆë‹¤. í•¨ê»˜ ìˆìœ¼ë©´ ì›ƒìŒì´ ëŠì´ì§€ ì•ŠìŠµë‹ˆë‹¤.", image: "https://placehold.co/300x300/FDE047/FFFFFF?text=DSHF" },
            "LBCM": { name: "ìƒ¤í”„í•œ íŠ¸ë ˆì´ë„ˆí˜•", summary: "ìê¸°ê´€ë¦¬ê°€ ì² ì €í•œ ì„¹ì‹œí•œ ë‚¨ì", description: "ìŠ¬ë¦¼í•œ ì²´í˜•ì´ì§€ë§Œ ê·¼ìœ¡ìœ¼ë¡œ ë‹¤ì ¸ì ¸ ìˆê³ , ì§§ì€ ë¨¸ë¦¬ì™€ ìˆ˜ì—¼ìœ¼ë¡œ ë‚¨ì„±ë¯¸ë¥¼ ë”í–ˆìŠµë‹ˆë‹¤. ìê¸°ê´€ë¦¬ì— ì² ì €í•œ ëª¨ìŠµì´ í”„ë¡œí˜ì…”ë„í•˜ê³  ì„¹ì‹œí•˜ê²Œ ëŠê»´ì§‘ë‹ˆë‹¤.", image: "https://placehold.co/300x300/14B8A6/FFFFFF?text=LBCM" },
            "LBCF": { name: "ê¹Œì¹ í•œ í™ìŠ¤í„°í˜•", summary: "ë§ˆë¥¸ ì²´í˜•ì— ìˆ¨ê²¨ì§„ ë‚ ì¹´ë¡œìš´ ì„¼ìŠ¤", description: "ê¸°íšì•ˆì˜ 'í„°í”„ í™ìŠ¤í„°í˜•'ê³¼ ìœ ì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§ˆë¥¸ ì²´í˜•ê³¼ ìˆ˜ì—¼, ì§§ì€ ë¨¸ë¦¬ì˜ ì¡°í•©ì€ ì–´ë”˜ê°€ ëª¨ë¥´ê²Œ ë‚ ì¹´ë¡­ê³  ì˜ˆë¯¼í•œ í™ìŠ¤í„°ì˜ ê°ì„±ì„ í’ê¹ë‹ˆë‹¤. íˆ­íˆ­ ë‚´ë±‰ì§€ë§Œ ì„¼ìŠ¤ ìˆëŠ” ëª¨ìŠµì— ëŒë¦½ë‹ˆë‹¤.", image: "https://placehold.co/300x300/6B7280/FFFFFF?text=LBCF" },
            "LBHM": { name: "ë„ë„í•œ ëª¨ë¸í˜•", summary: "ì°¨ê°‘ì§€ë§Œ ë‹¤ì •í•  ë“¯í•œ ë°˜ì „ ë§¤ë ¥", description: "ê¸°íšì•ˆì˜ 'ë„ë„í•œ ëª¨ë¸í˜•'ì…ë‹ˆë‹¤. ë§ˆë¥¸ ê·¼ìœ¡ì§ˆì˜ ëª¸, ê¸´ ë¨¸ë¦¬ì™€ ìˆ˜ì—¼ì€ ì™„ë²½í•œ ëª¨ë¸í•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ì°¨ê°€ì›Œ ë³´ì´ëŠ” ì²«ì¸ìƒê³¼ ë‹¬ë¦¬, ì•Œê³  ë³´ë©´ ë‹¤ì •í•œ ë°˜ì „ ë§¤ë ¥ì„ ê¸°ëŒ€í•˜ê²Œ í•©ë‹ˆë‹¤.", image: "https://placehold.co/300x300/8B5CF6/FFFFFF?text=LBHM" },
            "LBHF": { name: "ì²­ì´ˆ ì˜ˆìˆ ê°€í˜•", summary: "ì‚´ì§ í—ˆë¬´í•˜ì§€ë§Œ ë§¤ë ¥ì ì¸ ì°½ì‘ì", description: "ê¸°íšì•ˆì˜ 'ì²­ì´ˆ ì˜ˆìˆ ê°€í˜•'ì…ë‹ˆë‹¤. ë§ˆë¥¸ ì²´í˜•ê³¼ ê¸´ ë¨¸ë¦¬, ë¶€ë“œëŸ¬ìš´ ì¸ìƒì´ ì–´ìš°ëŸ¬ì ¸ ì–´ë”˜ê°€ ë³´í˜¸ ë³¸ëŠ¥ì„ ìê·¹í•©ë‹ˆë‹¤. ìì‹ ë§Œì˜ ì„¸ê³„ì—ì„œ ì°½ì‘ í™œë™ì„ í•˜ëŠ” ì˜ˆìˆ ê°€ì  ë§¤ë ¥ì´ ìˆìŠµë‹ˆë‹¤.", image: "https://placehold.co/300x300/22C55E/FFFFFF?text=LBHF" },
            "LSCM": { name: "ì‹œí¬í•œ ì¡°ê°ë¯¸ë‚¨í˜•", summary: "ì™„ë²½í•˜ê²Œ ë‹¤ë“¬ì–´ì§„ ì°¨ê°€ìš´ ë„ì‹œ ë‚¨ì", description: "ê¹”ë”í•œ ì¸ìƒ, ìŠ¬ë¦¼í•˜ê³  íƒ„íƒ„í•œ ê·¼ìœ¡ì§ˆ ëª¸ë§¤. ë§ˆì¹˜ ê·¸ë¦¬ìŠ¤ ì¡°ê°ìƒì²˜ëŸ¼ ì™„ë²½í•˜ê²Œ ë‹¤ë“¬ì–´ì§„ ëª¨ìŠµì…ë‹ˆë‹¤. ì°¨ê°€ìš´ ë„ì‹œ ë‚¨ì ê°™ì§€ë§Œ, ê·¸ ì†ì˜ ì—´ì •ì„ ìƒìƒí•˜ê²Œ í•©ë‹ˆë‹¤.", image: "https://placehold.co/300x300/06B6D4/FFFFFF?text=LSCM" },
            "LSCF": { name: "ë¯¸ë‹ˆë©€ë¦¬ìŠ¤íŠ¸ í›ˆë‚¨í˜•", summary: "ê¹”ë”í•˜ê³  ë‹´ë°±í•œ, ì†Œê¸ˆë¹µ ê°™ì€ ë§¤ë ¥", description: "ê³¼í•˜ì§€ ì•Šì€ ë§¤ë ¥. ë§ˆë¥¸ ì²´í˜•ì— ê¹”ë”í•œ ìŠ¤íƒ€ì¼ì€ ë‹´ë°±í•œ ë¯¸ë‹ˆë©€ë¦¬ìŠ¤íŠ¸ë¥¼ ì—°ìƒì‹œí‚µë‹ˆë‹¤. í™”ë ¤í•˜ì§€ ì•Šì•„ë„ ìê¾¸ë§Œ ëˆˆê¸¸ì´ ê°€ëŠ” 'í›ˆë‚¨' ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.", image: "https://placehold.co/300x300/94A3B8/FFFFFF?text=LSCF" },
            "LSHM": { name: "ê°ì„± í”¼íŠ¸ë‹ˆìŠ¤í˜•", summary: "ê·¼ìœ¡ ì†ì— ìˆ¨ì€ ê°ì •ì„ , ë¬˜í•œ ë§¤ë ¥", description: "ê¸°íšì•ˆì˜ 'ê°ì„± í”¼íŠ¸ë‹ˆìŠ¤í˜•'ì…ë‹ˆë‹¤. ë§ˆë¥¸ ê·¼ìœ¡ì§ˆ ëª¸ë§¤ì™€ ê¸´ ë¨¸ë¦¬ì˜ ë¬˜í•œ ì¡°í•©. ìš´ë™ì„ ì¦ê¸°ëŠ” íƒ„íƒ„í•¨ê³¼ ì˜ˆìˆ ê°€ì ì¸ ê°ìˆ˜ì„±ì´ ê³µì¡´í•˜ëŠ”, ì˜ˆì¸¡í•˜ê¸° ì–´ë ¤ìš´ ë§¤ë ¥ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.", image: "https://placehold.co/300x300/D946EF/FFFFFF?text=LSHM" },
            "LSHF": { name: "ê°ì„± ëª½í™˜í˜•", summary: "ê³ ì–‘ì´ ê°™ì€ ë§¤ë ¥ì˜ ì˜ˆìˆ ê°€", description: "ê¸°íšì•ˆì˜ 'ê°ì„± ëª½í™˜í˜•'ì…ë‹ˆë‹¤. ë§ˆë¥¸ ì²´í˜•, ê¹”ë”í•œ ì¸ìƒ, ê¸´ ë¨¸ë¦¬. ì–´ë”˜ê°€ í˜„ì‹¤ê³¼ ë™ë–¨ì–´ì§„ ë“¯ ëª½í™˜ì ì¸ ë¶„ìœ„ê¸°ë¥¼ í’ê¹ë‹ˆë‹¤. ì•Œ ìˆ˜ ì—†ëŠ” ë§¤ë ¥ì— ìê¾¸ë§Œ ë¹ ì ¸ë“­ë‹ˆë‹¤.", image: "https://placehold.co/300x300/818CF8/FFFFFF?text=LSHF" }
        };

        // --- ìƒíƒœ ë³€ìˆ˜ ---
        let currentQuestionIndex = 0;
        let shuffledQuestions = [];
        let scores = { D: 0, L: 0, B: 0, S: 0, C: 0, H: 0, M: 0, F: 0 };

        // --- í•¨ìˆ˜ ---

        // í™”ë©´ ì „í™˜ í•¨ìˆ˜
        function showScreen(screenId) {
            [startScreen, quizScreen, loadingScreen, resultScreen].forEach(screen => {
                screen.classList.add('hidden');
                screen.classList.remove('opacity-100');
            });
            
            const targetScreen = document.getElementById(screenId);
            if (targetScreen) {
                targetScreen.classList.remove('hidden');
                setTimeout(() => targetScreen.classList.add('opacity-100'), 50);
            }
        }

        // ì§ˆë¬¸ ì„ê¸° í•¨ìˆ˜
        function shuffleArray(array) {
            let currentIndex = array.length, randomIndex;
            while (currentIndex != 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [
                    array[randomIndex], array[currentIndex]];
            }
            return array;
        }

        // ì§ˆë¬¸ í‘œì‹œ í•¨ìˆ˜
        function showQuestion() {
            if (currentQuestionIndex >= shuffledQuestions.length) {
                showLoading();
                return;
            }

            nextButton.disabled = true; // ë‹¤ìŒ ë²„íŠ¼ ë¹„í™œì„±í™”

            const progress = ((currentQuestionIndex + 1) / shuffledQuestions.length) * 100;
            progressText.textContent = `Q ${currentQuestionIndex + 1}/${shuffledQuestions.length}`;
            progressBar.style.width = `${progress}%`;

            const currentQuestion = shuffledQuestions[currentQuestionIndex];
            questionTitle.textContent = currentQuestion.question;

            choicesContainer.innerHTML = '';
            likertChoices.forEach((choice, index) => {
                const choiceId = `choice-${index}`;
                const choiceDiv = document.createElement('div');
                
                const radio = document.createElement('input');
                radio.type = 'radio';
                radio.id = choiceId;
                radio.name = 'likert-choice';
                radio.value = choice.score;
                radio.className = 'hidden';
                
                const label = document.createElement('label');
                label.htmlFor = choiceId;
                label.textContent = choice.text;
                label.className = "block w-full p-3 text-center bg-gray-50 hover:bg-blue-100 border border-gray-300 rounded-lg text-md font-medium transition-all duration-150 cursor-pointer shadow-sm text-gray-800";

                radio.addEventListener('change', () => {
                    nextButton.disabled = false; // ë‹µë³€ ì„ íƒ ì‹œ ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”
                });

                choiceDiv.appendChild(radio);
                choiceDiv.appendChild(label);
                choicesContainer.appendChild(choiceDiv);
            });
        }

        // ì ìˆ˜ ê³„ì‚° ë° ë‹¤ìŒ ì§ˆë¬¸ìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” í•¨ìˆ˜
        function handleNextQuestion() {
            const selectedRadio = document.querySelector('input[name="likert-choice"]:checked');
            if (!selectedRadio) return; // ì„ íƒëœ ê²Œ ì—†ìœ¼ë©´ ì§„í–‰ ì•ˆ í•¨

            const scoreValue = parseInt(selectedRadio.value, 10);
            const currentQuestion = shuffledQuestions[currentQuestionIndex];
            const { bias, opposite } = currentQuestion;

            if (scoreValue > 0) {
                scores[bias] += scoreValue;
            } else if (scoreValue < 0) {
                scores[opposite] += Math.abs(scoreValue);
            }

            currentQuestionIndex++;
            showQuestion();
        }

        // ë¡œë”© í™”ë©´ í‘œì‹œ í•¨ìˆ˜
        function showLoading() {
            showScreen('loading-screen');
            setTimeout(showResult, 2000);
        }

        // ê²°ê³¼ í‘œì‹œ í•¨ìˆ˜
        function showResult() {
            let finalCode = "";
            finalCode += (scores.D >= scores.L) ? 'D' : 'L';
            finalCode += (scores.B >= scores.S) ? 'B' : 'S';
            finalCode += (scores.C >= scores.H) ? 'C' : 'H';
            finalCode += (scores.M >= scores.F) ? 'M' : 'F';

            const result = results[finalCode] || { 
                name: "ì•Œ ìˆ˜ ì—†ëŠ” ìœ í˜•",
                summary: "ë‹¹ì‹ ì€ ì •ë§ íŠ¹ë³„í•œ ì·¨í–¥ì„ ê°€ì¡Œêµ°ìš”!",
                description: "ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”.",
                image: "https://placehold.co/300x300/AAAAAA/FFFFFF?text=ERROR"
            };

            resultTypeName.textContent = result.name;
            resultTypeCode.textContent = finalCode;
            resultImgTag.src = result.image;
            resultImgTag.alt = result.name;
            resultSummary.textContent = `"${result.summary}"`;
            resultDescription.textContent = result.description;

            // ìƒì„¸ ë¹„ì¤‘ ê³„ì‚° ë° í‘œì‹œ
            displayResultDetails();

            showScreen('result-screen');
        }

        // ê²°ê³¼ ë¹„ì¤‘ í‘œì‹œ í•¨ìˆ˜
        function displayResultDetails() {
            resultDetails.innerHTML = ''; // ì´ˆê¸°í™”
            const axes = [
                { name: 'ì²´í˜•', code1: 'D', label1: 'ë“¬ì§', code2: 'L', label2: 'ìŠ¬ë¦¼' },
                { name: 'ìŠ¤íƒ€ì¼', code1: 'B', label1: 'ìì—°ìŠ¤ëŸ¬ì›€', code2: 'S', label2: 'ê¹”ë”í•¨' },
                { name: 'í—¤ì–´', code1: 'C', label1: 'ì§§ì€ë¨¸ë¦¬', code2: 'H', label2: 'ê¸´ë¨¸ë¦¬' },
                { name: 'ì²´ê²©', code1: 'M', label1: 'ê·¼ìœ¡', code2: 'F', label2: 'ë§¤ëˆ' }
            ];

            axes.forEach(axis => {
                const score1 = scores[axis.code1];
                const score2 = scores[axis.code2];
                const total = score1 + score2;
                
                let percent1 = 50;
                let percent2 = 50;

                if (total > 0) {
                    percent1 = Math.round((score1 / total) * 100);
                    percent2 = 100 - percent1;
                }

                const detailHtml = `
                    <div class="mb-3">
                        <div class="flex justify-between items-center mb-1 text-sm font-bold">
                            <span class="text-blue-600">${axis.label1} ${percent1}%</span>
                            <span class="text-red-500">${percent2}% ${axis.label2}</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-4 overflow-hidden">
                            <div class="bg-blue-600 h-4 rounded-l-full" style="width: ${percent1}%"></div>
                        </div>
                    </div>
                `;
                resultDetails.innerHTML += detailHtml;
            });
        }

        // í…ŒìŠ¤íŠ¸ ì‹œì‘ í•¨ìˆ˜
        function startGame() {
            currentQuestionIndex = 0;
            scores = { D: 0, L: 0, B: 0, S: 0, C: 0, H: 0, M: 0, F: 0 };
            shuffledQuestions = shuffleArray([...allQuestions]);
            
            showScreen('quiz-screen');
            showQuestion();
        }

        // í…ŒìŠ¤íŠ¸ ë‹¤ì‹œ ì‹œì‘ í•¨ìˆ˜
        function restartGame() {
            showScreen('start-screen');
        }

        // --- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ---
        startButton.addEventListener('click', startGame);
        nextButton.addEventListener('click', handleNextQuestion);
        restartButton.addEventListener('click', restartGame);

        // --- ì´ˆê¸°í™” ---
        document.addEventListener('DOMContentLoaded', () => {
            showScreen('start-screen');
        });

    </script>
</body>
</html>